<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>SPEC - Sistema de Monitoramento ILPI</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Sistema de Monitoramento ILPI" />
    <link href="css/thalamus.css" rel="stylesheet" type="text/css" />
    <style>
        /* Estilos gerais */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* Estilos da tabela */
        .tabela {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .tabela thead th {
            background-color: #f8f9fa;
            font-weight: 600;
            text-align: left;
            padding: 1rem;
            border-bottom: 2px solid #dee2e6;
        }

        .tabela td {
            vertical-align: middle;
            padding: 0.75rem;
            border-bottom: 1px solid #dee2e6;
        }

        /* Estilos para chips e contadores */
        .chip {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: 8px;
            font-weight: 500;
        }

        .bg-ok {
            background-color: #4caf50;
            color: white;
        }

        .bg-cinza {
            background-color: #f0f0f0;
            color: #333;
        }

        .bg-ausente {
            background-color: #ffa726;
            color: white;
        }

        /* Estilos para elementos clicáveis */
        .clicavel {
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .clicavel:hover {
            background-color: #f5f5f5;
        }

        /* Estilos para o menu lateral */
        aside {
            width: 250px;
            background-color: #fff;
            border-right: 1px solid #eee;
            height: 100%;
            position: fixed;
            left: 0;
            top: 60px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .esconde aside {
            width: 60px;
        }

        /* Estilos para paginação */
        .paginacao {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .paginacao a {
            padding: 0.5rem 1rem;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            color: #4a6ee0;
            text-decoration: none;
            transition: all 0.2s;
        }

        .paginacao a.ativo {
            background-color: #4a6ee0;
            color: white;
            border-color: #4a6ee0;
        }

        .paginacao a:hover:not(.ativo) {
            background-color: #f8f9fa;
        }

        /* Estilos para pesquisa */
        .pesquisa {
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            border-radius: 4px;
            padding: 0.5rem;
        }

        .pesquisa input {
            border: none;
            background: none;
            padding: 0.5rem;
            width: 200px;
            outline: none;
        }

        /* Estilos para ícones */
        .icone-pesquisa {
            width: 24px;
            height: 24px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%234a6ee0"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
        }

        .icone-adicionar-header {
            display: inline-block;
            width: 32px;
            height: 32px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%234a6ee0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 24px 24px;
            cursor: pointer;
            border: none;
            outline: none;
            transition: background-color 0.3s ease;
        }

        .icone-adicionar-header:hover {
            background-color: #f0f5ff;
            border-radius: 4px;
        }

        /* Estilos para status */
        .status-ativo {
            background-color: #4caf50;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .status-inativo {
            background-color: #f44336;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        /* Estilos para formulário */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .btn-primario {
            background-color: #4a6ee0;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-secundario {
            background-color: #f8f9fa;
            color: #333;
            border: 1px solid #ddd;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            margin-right: 0.5rem;
        }

        /* Estilos para ícones de ação */
        .acoes {
            white-space: nowrap;
            text-align: center;
            min-width: 80px;
            padding: 0 10px;
        }

        .icone-salvar,
        .icone-excluir {
            display: inline-block;
            margin: 0 5px;
            font-size: 18px;
            text-decoration: none;
            vertical-align: middle;
        }

        .acoes a:first-child {
            margin-left: 8px;
        }

        .acoes a:last-child {
            margin-right: 8px;
        }

        .icone-salvar:hover {
            color: #4a6ee0;
            transform: scale(1.2);
            transition: transform 0.2s;
        }

        .icone-excluir:hover {
            color: #f44336;
            transform: scale(1.2);
            transition: transform 0.2s;
        }

        /* Estilos para tags de classe de hóspede */
        .tag-classe {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .tag-cadeirante {
            background-color: #2196f3;
            color: white;
        }

        .tag-acamado {
            background-color: #9c27b0;
            color: white;
        }

        .tag-andador {
            background-color: #00bcd4;
            color: white;
        }

        .tag-bengala {
            background-color: #009688;
            color: white;
        }

        .tag-independente {
            background-color: #8bc34a;
            color: white;
        }

        /* Estilos para tags de condições de saúde */
        .tag-condicao {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            background-color: #f0f0f0;
            color: #333;
            margin: 2px;
        }

        /* Cores específicas para algumas condições */
        .tag-acamado {
            background-color: #ff5722;
            color: white;
        }

        .tag-demencia,
        .tag-alzheimer,
        .tag-parkinson {
            background-color: #9c27b0;
            color: white;
        }

        .tag-mobilidade_reduzida,
        .tag-mobilidade_limitada,
        .tag-auxilio_transferencia {
            background-color: #ff9800;
            color: white;
        }

        .tag-independente {
            background-color: #4caf50;
            color: white;
        }

        .tag-dependente_total {
            background-color: #f44336;
            color: white;
        }

        .tag-diabetes,
        .tag-hipertensao,
        .tag-problemas_cardiacos,
        .tag-problemas_respiratorios {
            background-color: #2196f3;
            color: white;
        }

        .tag-deficiencia_visual {
            background-color: #607d8b;
            color: white;
        }

        .tag-risco_ulcera {
            background-color: #e91e63;
            color: white;
        }

        .tag-usa_andador {
            background-color: #00bcd4;
            color: white;
        }

        .tag-avc_previo {
            background-color: #673ab7;
            color: white;
        }

        /* Correção para o problema de posicionamento e rolagem na modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none; /* Inicialmente escondida */
            justify-content: center;
            align-items: flex-start; /* Alinha ao topo em vez de ao centro */
            z-index: 1000;
            overflow-y: auto; /* Permite rolagem na overlay */
            padding: 2rem 0; /* Adiciona espaço acima e abaixo */
            
        }

        .modal {
            position: relative;
            width: 80%;
            max-width: 800px;
    margin: 2rem auto; /* Centraliza a modal */
            margin: 2rem 0; /* Adiciona margem acima e abaixo */
        }

        .modal-mask {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            width: 100%;
            overflow-y: visible; /* Permite que o conteúdo flua naturalmente */
            display: block;
        }

        .jm {
            padding: 2rem;
            box-sizing: border-box;
        }

        /* Ajuste para garantir que os botões de ação sejam visíveis */
        .modal-footer {
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            padding: 1rem 0;
            border-top: 1px solid #f0f0f0;
        }

        /* Z-index para modais */
        #modalNovoHospede {
            z-index: 1000;
        }

        #modalEditarHospede {
            z-index: 1000;
        }

        /* Estilos para checkbox personalizado */
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .checkbox-container input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
        }

        .checkbox-container label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .checkbox-group {
            margin-bottom: 1rem;
            border: 1px solid #eee;
            padding: 1rem;
            border-radius: 4px;
            background-color: #f9f9f9;
        }

        .checkbox-group-title {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #333;
        }

        /* Estilos para ícones de tecnologia */
        .tech-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 5px;
            vertical-align: middle;
        }

        .wearable-icon {
            color: #4a6ee0;
        }

        .facial-icon {
            color: #4caf50;
        }
    </style>
</head>
<body>
    <header>
        <div class="linha">
            <div class="coluna">
                <nav class="jm jm-menu nav-maior none" id="menu">
                    <div class="separador">
                        <a href="configuracoes.html">Configurações</a>
                        <a href="hospedes.html" class="ativo">Gestão de Hóspedes</a>
                        <a href="monitoramento.html">Monitoramento</a>
                        <a href="#">Sair</a>
                    </div>
                </nav>
                <a href="inicial.html" class="logo logo-menor">Thalamus</a>
                <a href="#" class="icone-avancar negrito com-texto" onclick="document.getElementById('menu').classList.toggle('none');this.classList.toggle('ativo');return false">Gestão de Hóspedes</a>
            </div>
          
        </div>
    </header>

    <main id="main">  
        <aside>
            <div class="titulo margem efeito">
                <div class="m-icone"><a href="#" class="icone-menu" title="Menu" onclick="document.getElementById('main').classList.toggle('esconde');return false"></a></div>
            </div>
            <div class="separador margem">
                <div class="m-icone">
                    <a href="javascript:abaMenu('Monitoramento')" class="icone-compras ativo" title="Monitoramento" id="Monitoramento"></a>
                    <a href="javascript:abaMenu('Configuracoes')" class="icone-gestao" title="Configurações" id="Configuracoes"></a>
                    <a href="javascript:abaMenu('Relatorios')" class="icone-alvo" title="Relatórios" id="Relatorios"></a>
                </div>
            </div>
         
            <nav id="menuMonitoramento" class="nav-maior separador">
                <a href="painel.html" class="ativo">Monitoramento e alerta</a>
            </nav>
            <nav id="menuConfiguracoes" class="nav-maior separador none">
                <a href="hospede.html" >Hóspede</a>
                <a href="cameraQuarto.html">Câmeras e Quartos</a>
                <a href="quartoHospede.html">Hospede Quarto</a>
                <a href="tipo-eventos.html" >Tipo de evento</a>
                <a href="tipo-alerta.html">Tipo de Alertas</a>
                <a href="config-evento-alertas.html">Configurações de eventos/alertas</a>
                <a href="classeHospede.html">Classe de hóspede</a>
                <a href="condicoesSaude.html">Condições de saúde</a>
            </nav>
            <nav id="menuRelatorios" class="nav-maior separador none">
                <a href="relatorio-eventos.html">Relatório de Eventos</a>
                <a href="relatorio-alertas.html">Relatório de Alertas</a>
                <a href="estatisticas.html">Estatísticas</a>
            </nav>
        </aside>
        <section>
            <div class="titulo">
                <div class="margem container">
                    <div class="m-icone direita">
                        <div class="pesquisa">
                            <input type="text" placeholder="Pesquise aqui" id="searchInput" onkeyup="pesquisarHospedes()">
                            
                        </div>
                        <a href="#" class="icone-adicionar-header" title="Adicionar Hóspede" onclick="abrirModalNovoHospede()"></a>
                    
                    </div>
                    <h2>Gestão de Hóspedes</h2> 
                </div>
            </div>
            <div class="margem container">
                <div class="bloco margem">
                    <table class="tabela">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome do Hóspede</th>
                                <th>Sexo</th>
                                <th>Data de Nascimento</th>
                                <th>Classe de Hóspede</th>
                                <th>Condições de Saúde</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaHospedes">
                            <!-- Dados serão inseridos via JavaScript -->
                        </tbody>
                    </table>
                    <div class="paginacao">
                        <a href="#" class="ativo">1</a>
                        <a href="#">2</a>
                        <a href="#">3</a>
                        <span>...</span>
                        <a href="#">5</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Modal para Adicionar Novo Hóspede -->
        <div class="modal-overlay" id="modalNovoHospede">
            <div class="modal">
                <div class="modal-mask">
                    <div class="jm">
                        <div class="modal-header">
                            <h3>Adicionar Novo Hóspede</h3>
                        </div>
                        <form id="formNovoHospede">
                            <div class="form-group">
                                <label for="novoNome">Nome do Hóspede*</label>
                                <input type="text" id="novoNome" required>
                            </div>
                            
                            <div class="grid-2">
                                <div class="form-group">
                                    <label for="novoSexo">Sexo*</label>
                                    <select id="novoSexo" required>
                                        <option value="">Selecione</option>
                                        <option value="Masculino">Masculino</option>
                                        <option value="Feminino">Feminino</option>
                                        <option value="Outro">Outro</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="novoDataNascimento">Data de Nascimento*</label>
                                    <input type="date" id="novoDataNascimento" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="novoClasseHospede">Classe de Hóspede*</label>
                                <select id="novoClasseHospede" required>
                                    <option value="">Selecione</option>
                                    <option value="cadeirante">Cadeirante</option>
                                    <option value="acamado">Acamado</option>
                                    <option value="andador">Usuário de Andador</option>
                                    <option value="bengala">Usuário de Bengala</option>
                                    <option value="independente">Independente</option>
                                </select>
                            </div>
                            
                            <div class="checkbox-group">
                                <div class="checkbox-group-title">Condições de Saúde*</div>
                                <div class="checkbox-grid">
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoMobilidadeReduzida" name="novoCondicoesSaude" value="mobilidade_reduzida">
                                        <label for="novoMobilidadeReduzida">Mobilidade reduzida</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoAuxilioTransferencia" name="novoCondicoesSaude" value="auxilio_transferencia">
                                        <label for="novoAuxilioTransferencia">Necessita auxílio para transferência</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoAcamado" name="novoCondicoesSaude" value="acamado">
                                        <label for="novoAcamado">Acamado</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoMobilidadeLimitada" name="novoCondicoesSaude" value="mobilidade_limitada">
                                        <label for="novoMobilidadeLimitada">Mobilidade limitada de membros</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoRiscoUlcera" name="novoCondicoesSaude" value="risco_ulcera">
                                        <label for="novoRiscoUlcera">Risco de úlcera de pressão</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoUsaAndador" name="novoCondicoesSaude" value="usa_andador">
                                        <label for="novoUsaAndador">Usa andador</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoIndependente" name="novoCondicoesSaude" value="independente">
                                        <label for="novoIndependente">Independente</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoDependenteTotal" name="novoCondicoesSaude" value="dependente_total">
                                        <label for="novoDependenteTotal">Dependente total</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoDemencia" name="novoCondicoesSaude" value="demencia">
                                        <label for="novoDemencia">Demência</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoAlzheimer" name="novoCondicoesSaude" value="alzheimer">
                                        <label for="novoAlzheimer">Alzheimer</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoParkinson" name="novoCondicoesSaude" value="parkinson">
                                        <label for="novoParkinson">Parkinson</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoAvcPrevio" name="novoCondicoesSaude" value="avc_previo">
                                        <label for="novoAvcPrevio">AVC prévio</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoDiabetes" name="novoCondicoesSaude" value="diabetes">
                                        <label for="novoDiabetes">Diabetes</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoHipertensao" name="novoCondicoesSaude" value="hipertensao">
                                        <label for="novoHipertensao">Hipertensão</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoProblemasCardiacos" name="novoCondicoesSaude" value="problemas_cardiacos">
                                        <label for="novoProblemasCardiacos">Problemas cardíacos</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoProblemasRespiratorios" name="novoCondicoesSaude" value="problemas_respiratorios">
                                        <label for="novoProblemasRespiratorios">Problemas respiratórios</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="novoDeficienciaVisual" name="novoCondicoesSaude" value="deficiencia_visual">
                                        <label for="novoDeficienciaVisual">Deficiência visual</label>
                                    </div>
                                </div>
                            </div>

                            <div class="checkbox-group">
                                <div class="checkbox-group-title">Tecnologias de Monitoramento</div>
                                <div class="checkbox-container">
                                    <input type="checkbox" id="novoUsaWearable">
                                    <label for="novoUsaWearable">Usará wearable (dispositivo vestível)</label>
                                </div>
                                <div class="checkbox-container">
                                    <input type="checkbox" id="novoUsaReconhecimentoFacial">
                                    <label for="novoUsaReconhecimentoFacial">Fará reconhecimento facial</label>
                                </div>
                            </div>

                            <!-- Seção de Alertas -->
                     
                            
                            <div class="form-group">
                                <label for="novoResponsavel">Nome do Responsável</label>
                                <input type="text" id="novoResponsavel">
                            </div>
                            
                            <div class="form-group">
                                <label for="novoContatoResponsavel">Contato do Responsável</label>
                                <input type="text" id="novoContatoResponsavel" placeholder="(00) 00000-0000">
                            </div>
                            
                            <div class="modal-footer">
                                <button type="button" class="btn-secundario" onclick="fecharModalNovoHospede()">Cancelar</button>
                                <button type="button" class="btn-primario" onclick="salvarNovoHospede()">Salvar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Modal para Editar Hóspede -->
        <div class="modal-overlay" id="modalEditarHospede">
            <div class="modal">
                <div class="modal-mask">
                    <div class="jm">
                        <div class="modal-header">
                            <h3>Editar Hóspede</h3>
                        </div>
                        <form id="formEditarHospede">
                            <input type="hidden" id="editarHospedeId">
                            
                            <div class="form-group">
                                <label for="editarNome">Nome do Hóspede*</label>
                                <input type="text" id="editarNome" required>
                            </div>
                            
                            <div class="grid-2">
                                <div class="form-group">
                                    <label for="editarSexo">Sexo*</label>
                                    <select id="editarSexo" required>
                                        <option value="Masculino">Masculino</option>
                                        <option value="Feminino">Feminino</option>
                                        <option value="Outro">Outro</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editarDataNascimento">Data de Nascimento*</label>
                                    <input type="date" id="editarDataNascimento" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="editarClasseHospede">Classe de Hóspede*</label>
                                <select id="editarClasseHospede" required>
                                    <option value="cadeirante">Cadeirante</option>
                                    <option value="acamado">Acamado</option>
                                    <option value="andador">Usuário de Andador</option>
                                    <option value="bengala">Usuário de Bengala</option>
                                    <option value="independente">Independente</option>
                                </select>
                            </div>
                            
                            <div class="checkbox-group">
                                <div class="checkbox-group-title">Condições de Saúde*</div>
                                <div class="checkbox-grid">
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarMobilidadeReduzida" name="editarCondicoesSaude" value="mobilidade_reduzida">
                                        <label for="editarMobilidadeReduzida">Mobilidade reduzida</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarAuxilioTransferencia" name="editarCondicoesSaude" value="auxilio_transferencia">
                                        <label for="editarAuxilioTransferencia">Necessita auxílio para transferência</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarAcamado" name="editarCondicoesSaude" value="acamado">
                                        <label for="editarAcamado">Acamado</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarMobilidadeLimitada" name="editarCondicoesSaude" value="mobilidade_limitada">
                                        <label for="editarMobilidadeLimitada">Mobilidade limitada de membros</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarRiscoUlcera" name="editarCondicoesSaude" value="risco_ulcera">
                                        <label for="editarRiscoUlcera">Risco de úlcera de pressão</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarUsaAndador" name="editarCondicoesSaude" value="usa_andador">
                                        <label for="editarUsaAndador">Usa andador</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarIndependente" name="editarCondicoesSaude" value="independente">
                                        <label for="editarIndependente">Independente</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarDependenteTotal" name="editarCondicoesSaude" value="dependente_total">
                                        <label for="editarDependenteTotal">Dependente total</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarDemencia" name="editarCondicoesSaude" value="demencia">
                                        <label for="editarDemencia">Demência</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarAlzheimer" name="editarCondicoesSaude" value="alzheimer">
                                        <label for="editarAlzheimer">Alzheimer</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarParkinson" name="editarCondicoesSaude" value="parkinson">
                                        <label for="editarParkinson">Parkinson</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarAvcPrevio" name="editarCondicoesSaude" value="avc_previo">
                                        <label for="editarAvcPrevio">AVC prévio</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarDiabetes" name="editarCondicoesSaude" value="diabetes">
                                        <label for="editarDiabetes">Diabetes</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarHipertensao" name="editarCondicoesSaude" value="hipertensao">
                                        <label for="editarHipertensao">Hipertensão</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarProblemasCardiacos" name="editarCondicoesSaude" value="problemas_cardiacos">
                                        <label for="editarProblemasCardiacos">Problemas cardíacos</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarProblemasRespiratorios" name="editarCondicoesSaude" value="problemas_respiratorios">
                                        <label for="editarProblemasRespiratorios">Problemas respiratórios</label>
                                    </div>
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="editarDeficienciaVisual" name="editarCondicoesSaude" value="deficiencia_visual">
                                        <label for="editarDeficienciaVisual">Deficiência visual</label>
                                    </div>
                                </div>
                            </div>

                            <div class="checkbox-group">
                                <div class="checkbox-group-title">Tecnologias de Monitoramento</div>
                                <div class="checkbox-container">
                                    <input type="checkbox" id="editarUsaWearable">
                                    <label for="editarUsaWearable">Usará wearable (dispositivo vestível)</label>
                                </div>
                                <div class="checkbox-container">
                                    <input type="checkbox" id="editarUsaReconhecimentoFacial">
                                    <label for="editarUsaReconhecimentoFacial">Fará reconhecimento facial</label>
                                </div>
                            </div>

                            <!-- Seção de Alertas para Edição -->

                            
                            <div class="form-group">
                                <label for="editarResponsavel">Nome do Responsável</label>
                                <input type="text" id="editarResponsavel">
                            </div>
                            
                            <div class="form-group">
                                <label for="editarContatoResponsavel">Contato do Responsável</label>
                                <input type="text" id="editarContatoResponsavel" placeholder="(00) 00000-0000">
                            </div>
                            
                            <div class="modal-footer">
                                <button type="button" class="btn-secundario" onclick="fecharModalEditarHospede()">Cancelar</button>
                                <button type="button" class="btn-primario" onclick="salvarHospedeEditado()">Salvar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Dados dos hóspedes (simulando um banco de dados)
            let hospedes = [
                {
                    id: "H001",
                    nome: "Ana Carolina Silva",
                    sexo: "Feminino",
                    dataNascimento: "1945-05-15",
                    classeHospede: "cadeirante",
                    condicoesSaude: ["mobilidade_reduzida", "diabetes", "hipertensao"],
                    usaWearable: true,
                    usaReconhecimentoFacial: false,
                    responsavel: "Carlos Silva",
                    contatoResponsavel: "(11) 98765-4321",
                    alertas: [
                        {
                            tipo: "queda",
                            destinatario: "Carlos Silva",
                            contatoDestinatario: "(11) 98765-4321"
                        },
                        {
                            tipo: "saida_nao_autorizada",
                            destinatario: "Maria Silva",
                            contatoDestinatario: "(11) 97654-3210"
                        }
                    ]
                },
                {
                    id: "H002",
                    nome: "José Roberto Oliveira",
                    sexo: "Masculino",
                    dataNascimento: "1938-10-22",
                    classeHospede: "andador",
                    condicoesSaude: ["usa_andador", "problemas_cardiacos"],
                    usaWearable: true,
                    usaReconhecimentoFacial: true,
                    responsavel: "Maria Oliveira",
                    contatoResponsavel: "(11) 97654-3210",
                    alertas: [
                        {
                            tipo: "tempo_banheiro",
                            destinatario: "Maria Oliveira",
                            contatoDestinatario: "(11) 97654-3210"
                        }
                    ]
                },
                {
                    id: "H003",
                    nome: "Maria Aparecida Santos",
                    sexo: "Feminino",
                    dataNascimento: "1942-03-08",
                    classeHospede: "acamado",
                    condicoesSaude: ["acamado", "risco_ulcera", "dependente_total"],
                    usaWearable: false,
                    usaReconhecimentoFacial: true,
                    responsavel: "João Santos",
                    contatoResponsavel: "(11) 96543-2109",
                    alertas: [
                        {
                            tipo: "ausencia_leito",
                            destinatario: "João Santos",
                            contatoDestinatario: "(11) 96543-2109"
                        },
                        {
                            tipo: "agitacao",
                            destinatario: "Enfermaria",
                            contatoDestinatario: "(11) 3333-4444"
                        }
                    ]
                },
                {
                    id: "H004",
                    nome: "Antônio Carlos Ferreira",
                    sexo: "Masculino",
                    dataNascimento: "1950-07-30",
                    classeHospede: "bengala",
                    condicoesSaude: ["parkinson", "mobilidade_limitada"],
                    usaWearable: true,
                    usaReconhecimentoFacial: false,
                    responsavel: "Luiza Ferreira",
                    contatoResponsavel: "(11) 95432-1098",
                    alertas: [
                        {
                            tipo: "queda",
                            destinatario: "Luiza Ferreira",
                            contatoDestinatario: "(11) 95432-1098"
                        }
                    ]
                },
                {
                    id: "H005",
                    nome: "Lúcia Helena Mendes",
                    sexo: "Feminino",
                    dataNascimento: "1948-12-10",
                    classeHospede: "independente",
                    condicoesSaude: ["independente", "hipertensao"],
                    usaWearable: false,
                    usaReconhecimentoFacial: false,
                    responsavel: "Roberto Mendes",
                    contatoResponsavel: "(11) 94321-0987",
                    alertas: [
                        {
                            tipo: "saida_nao_autorizada",
                            destinatario: "Roberto Mendes",
                            contatoDestinatario: "(11) 94321-0987"
                        }
                    ]
                }
            ];

            // Função para controlar o menu lateral
            function abaMenu(aba) {
                // Primeiro, remova todas as classes ativas dos ícones
                document.getElementById('Monitoramento').classList.remove('ativo');
                document.getElementById('Configuracoes').classList.remove('ativo');
                document.getElementById('Relatorios').classList.remove('ativo');
              
                // Em seguida, esconda todos os menus
                document.getElementById('menuMonitoramento').classList.add('none');
                document.getElementById('menuConfiguracoes').classList.add('none');
                document.getElementById('menuRelatorios').classList.add('none');
              
                // Por fim, ative o ícone e mostre o menu correspondente
                document.getElementById(aba).classList.add('ativo');
                document.getElementById('menu' + aba).classList.remove('none');
              
                // Salvar o estado do menu no localStorage
                localStorage.setItem('menuAtivo', aba);
            }  
                  
            // Funções auxiliares para obter texto formatado
            function getClasseHospedeTexto(classe) {
                const classes = {
                    'cadeirante': 'Cadeirante',
                    'acamado': 'Acamado',
                    'andador': 'Usuário de Andador',
                    'bengala': 'Usuário de Bengala',
                    'independente': 'Independente'
                };
                return classes[classe] || classe;
            }

            // Função para obter texto formatado das condições de saúde
            function getCondicoesSaudeTexto(condicao) {
                const condicoes = {
                    'mobilidade_reduzida': 'Mobilidade reduzida',
                    'auxilio_transferencia': 'Necessita auxílio para transferência',
                    'acamado': 'Acamado',
                    'mobilidade_limitada': 'Mobilidade limitada de membros',
                    'risco_ulcera': 'Risco de úlcera de pressão',
                    'usa_andador': 'Usa andador',
                    'independente': 'Independente',
                    'dependente_total': 'Dependente total',
                    'demencia': 'Demência',
                    'alzheimer': 'Alzheimer',
                    'parkinson': 'Parkinson',
                    'avc_previo': 'AVC prévio',
                    'diabetes': 'Diabetes',
                    'hipertensao': 'Hipertensão',
                    'problemas_cardiacos': 'Problemas cardíacos',
                    'problemas_respiratorios': 'Problemas respiratórios',
                    'deficiencia_visual': 'Deficiência visual'
                };
                return condicoes[condicao] || condicao;
            }

            // Função para obter texto formatado dos tipos de alerta
            function getTipoAlertaTexto(tipo) {
                const tipos = {
                    'queda': 'Queda',
                    'saida_nao_autorizada': 'Saída não autorizada',
                    'tempo_banheiro': 'Tempo prolongado no banheiro',
                    'ausencia_leito': 'Ausência do leito',
                    'agitacao': 'Agitação'
                };
                return tipos[tipo] || tipo;
            }

            // Função para renderizar a tabela de hóspedes
            function renderizarTabela() {
                console.log("Iniciando renderização da tabela");
                const tbody = document.getElementById('tabelaHospedes');
                
                if (!tbody) {
                    console.error("Elemento tabelaHospedes não encontrado!");
                    return;
                }
                
                // Limpar tabela
                tbody.innerHTML = '';
                
                console.log("Renderizando", hospedes.length, "hóspedes");
                
                // Verificar se há hóspedes
                if (hospedes.length === 0) {
                    const tr = document.createElement('tr');
                    tr.innerHTML = '<td colspan="7" style="text-align: center;">Nenhum hóspede cadastrado</td>';
                    tbody.appendChild(tr);
                    return;
                }
                
                // Adicionar cada hóspede à tabela
                hospedes.forEach(hospede => {
                    const tr = document.createElement('tr');
                    
                    // Formatar data de nascimento
                    const dataNascimento = new Date(hospede.dataNascimento);
                    const dataFormatada = dataNascimento.toLocaleDateString('pt-BR');
                    
                    // Calcular idade
                    const hoje = new Date();
                    let idade = hoje.getFullYear() - dataNascimento.getFullYear();
                    const m = hoje.getMonth() - dataNascimento.getMonth();
                    if (m < 0 || (m === 0 && hoje.getDate() < dataNascimento.getDate())) {
                        idade--;
                    }
                    
                    // Criar tags para condições de saúde
                    let condicoesSaudeHTML = '';
                    if (hospede.condicoesSaude && hospede.condicoesSaude.length > 0) {
                        condicoesSaudeHTML = '<div class="condicoes-saude-tags">';
                        hospede.condicoesSaude.forEach(condicao => {
                            condicoesSaudeHTML += `<span class="tag-condicao tag-${condicao}" title="${getCondicoesSaudeTexto(condicao)}">${getCondicoesSaudeTexto(condicao)}</span>`;
                        });
                        condicoesSaudeHTML += '</div>';
                    } else {
                        condicoesSaudeHTML = '-';
                    }
                    tr.innerHTML = `
                    <td>${hospede.id}</td>
                    <td>${hospede.nome}</td>
                    <td>${hospede.sexo}</td>
                    <td>${dataFormatada} (${idade} anos)</td>
                    <td><span class="tag-classe tag-${hospede.classeHospede}">${getClasseHospedeTexto(hospede.classeHospede)}</span></td>
                    <td class="condicoes-saude-cell">${condicoesSaudeHTML}</td>
                    <td class="acoes">
                        <a href="javascript:void(0)" class="icone-salvar" onclick="event.stopPropagation(); editarHospede('${hospede.id}')">✏️</a>
                        <a href="javascript:void(0)" class="icone-excluir" onclick="event.stopPropagation(); excluirHospede('${hospede.id}')">🗑️</a>
                    </td>
                `;
                    
                    // Adicionar evento de clique na linha
                    tr.addEventListener('click', function() {
                        visualizarHospede(hospede.id);
                    });
                    
                    tbody.appendChild(tr);
                });

                console.log("Tabela renderizada com sucesso");
            }

            // Função para visualizar detalhes do hóspede
            function visualizarHospede(id) {
                const hospede = hospedes.find(h => h.id === id);
                if (!hospede) return;
                
                // Formatar data de nascimento
                const dataNascimento = new Date(hospede.dataNascimento);
                const dataFormatada = dataNascimento.toLocaleDateString('pt-BR');
                
                // Calcular idade
                const hoje = new Date();
                let idade = hoje.getFullYear() - dataNascimento.getFullYear();
                const m = hoje.getMonth() - dataNascimento.getMonth();
                if (m < 0 || (m === 0 && hoje.getDate() < dataNascimento.getDate())) {
                    idade--;
                }
                
                // Criar texto para tecnologias
                let tecnologias = [];
                if (hospede.usaWearable) tecnologias.push('Wearable');
                if (hospede.usaReconhecimentoFacial) tecnologias.push('Reconhecimento Facial');
                const tecnologiasTexto = tecnologias.length > 0 ? tecnologias.join(' e ') : 'Nenhuma';
                
                // Criar texto para condições de saúde
                const condicoesSaudeTexto = hospede.condicoesSaude.map(condicao => 
                    getCondicoesSaudeTexto(condicao)
                ).join(', ');
                
                // Criar texto para alertas
                let alertasTexto = '';
                if (hospede.alertas && hospede.alertas.length > 0) {
                    alertasTexto = hospede.alertas.map(alerta => 
                        `- ${getTipoAlertaTexto(alerta.tipo)}: ${alerta.destinatario} (${alerta.contatoDestinatario})`
                    ).join('\n');
                } else {
                    alertasTexto = 'Nenhum alerta configurado';
                }
                
                // Exibir detalhes em um alerta
                alert(`Detalhes do Hóspede:
                
ID: ${hospede.id}
Nome: ${hospede.nome}
Sexo: ${hospede.sexo}
Data de Nascimento: ${dataFormatada} (${idade} anos)
Classe: ${getClasseHospedeTexto(hospede.classeHospede)}
Condições de Saúde: ${condicoesSaudeTexto}
Tecnologias: ${tecnologiasTexto}
Responsável: ${hospede.responsavel || 'Não informado'}
Contato do Responsável: ${hospede.contatoResponsavel || 'Não informado'}

Alertas Configurados:
${alertasTexto}`);
            }

            // Função para pesquisar hóspedes
            function pesquisarHospedes() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                
                if (!searchTerm) {
                    renderizarTabela();
                    return;
                }
                
                const tbody = document.getElementById('tabelaHospedes');
                tbody.innerHTML = '';

                const resultados = hospedes.filter(hospede => {
                    // Verificar se o termo de pesquisa está no ID, nome, classe de hóspede, condições de saúde, responsável ou contato
                    const condicoesSaudeTexto = hospede.condicoesSaude.map(c => getCondicoesSaudeTexto(c).toLowerCase()).join(' ');
                    
                    return hospede.id.toLowerCase().includes(searchTerm) ||
                        hospede.nome.toLowerCase().includes(searchTerm) ||
                        getClasseHospedeTexto(hospede.classeHospede).toLowerCase().includes(searchTerm) ||
                        condicoesSaudeTexto.includes(searchTerm) ||
                        (hospede.responsavel && hospede.responsavel.toLowerCase().includes(searchTerm)) ||
                        (hospede.contatoResponsavel && hospede.contatoResponsavel.toLowerCase().includes(searchTerm)) ||
                        hospede.sexo.toLowerCase().includes(searchTerm);
                });
                
                if (resultados.length === 0) {
                    const tr = document.createElement('tr');
                    tr.innerHTML = '<td colspan="7" style="text-align: center;">Nenhum resultado encontrado</td>';
                    tbody.appendChild(tr);
                    return;
                }
                
                resultados.forEach(hospede => {
                    const tr = document.createElement('tr');
                    
                    // Formatar data de nascimento
                    const dataNascimento = new Date(hospede.dataNascimento);
                    const dataFormatada = dataNascimento.toLocaleDateString('pt-BR');
                    
                    // Calcular idade
                    const hoje = new Date();
                    let idade = hoje.getFullYear() - dataNascimento.getFullYear();
                    const m = hoje.getMonth() - dataNascimento.getMonth();
                    if (m < 0 || (m === 0 && hoje.getDate() < dataNascimento.getDate())) {
                        idade--;
                    }
                    
                    // Criar tags para condições de saúde
                    let condicoesSaudeHTML = '';
                    if (hospede.condicoesSaude && hospede.condicoesSaude.length > 0) {
                        condicoesSaudeHTML = '<div class="condicoes-saude-tags">';
                        hospede.condicoesSaude.forEach(condicao => {
                            condicoesSaudeHTML += `<span class="tag-condicao tag-${condicao}" title="${getCondicoesSaudeTexto(condicao)}">${getCondicoesSaudeTexto(condicao)}</span>`;
                        });
                        condicoesSaudeHTML += '</div>';
                    } else {
                        condicoesSaudeHTML = '-';
                    }
                    
                    tr.innerHTML = `
                        <td>${hospede.id}</td>
                        <td>${hospede.nome}</td>
                        <td>${hospede.sexo}</td>
                        <td>${dataFormatada} (${idade} anos)</td>
                        <td><span class="tag-classe tag-${hospede.classeHospede}">${getClasseHospedeTexto(hospede.classeHospede)}</span></td>
                        <td class="condicoes-saude-cell">${condicoesSaudeHTML}</td>
                        <td class="acoes">
                            <a href="javascript:void(0)" class="icone-salvar" onclick="editarHospede('${hospede.id}')">✏️</a>
                            <a href="javascript:void(0)" class="icone-excluir" onclick="excluirHospede('${hospede.id}')">🗑️</a>
                        </td>
                    `;
                    
                    // Adicionar evento de clique na linha
                    tr.addEventListener('click', function() {
                        visualizarHospede(hospede.id);
                    });
                    
                    tbody.appendChild(tr);
                });
            }

            // Inicializar a tabela quando a página carregar
            document.addEventListener('DOMContentLoaded', function() {
                renderizarTabela();
                
                // Verificar se há um menu ativo salvo no localStorage
                const menuAtivo = localStorage.getItem('menuAtivo');
                if (menuAtivo) {
                    abaMenu(menuAtivo);
                }
            });
            function editarHospede(id) {
    const hospede = hospedes.find(h => h.id === id);
    if (!hospede) return;

    // Preencher o formulário da modal com os dados do hóspede
    document.getElementById('editarHospedeId').value = hospede.id;
    document.getElementById('editarNome').value = hospede.nome;
    document.getElementById('editarSexo').value = hospede.sexo;
    document.getElementById('editarDataNascimento').value = hospede.dataNascimento;
    document.getElementById('editarClasseHospede').value = hospede.classeHospede;

    // Marcar as condições de saúde
    hospede.condicoesSaude.forEach(condicao => {
        const checkbox = document.getElementById(`editar${condicao.charAt(0).toUpperCase() + condicao.slice(1)}`);
        if (checkbox) {
            checkbox.checked = true;
        }
    });

    // Exibir a modal
    document.getElementById('modalEditarHospede').style.display = 'flex';
}
function fecharModalEditarHospede() {
    document.getElementById('modalEditarHospede').style.display = 'none';
    // Limpar os campos do formulário
    document.getElementById('editarHospedeId').value = '';
    document.getElementById('editarNome').value = '';
    document.getElementById('editarSexo').value = '';
    document.getElementById('editarDataNascimento').value = '';
    document.getElementById('editarClasseHospede').value = '';
    
    // Desmarcar as condições de saúde
    const checkboxes = document.querySelectorAll('#modalEditarHospede input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        checkbox.checked = false;
    });
}
      // Função para abrir modal de novo hóspede
      function abrirModalNovoHospede() {
                // Limpar formulário
                document.getElementById('formNovoHospede').reset();
                
                // Exibir modal
                document.getElementById('modalNovoHospede').style.display = 'flex';
            }

            // Função para fechar modal de novo hóspede
            function fecharModalNovoHospede() {
                document.getElementById('modalNovoHospede').style.display = 'none';
            }

            // Função para salvar novo hóspede
            function salvarNovoHospede() {
                const nome = document.getElementById('novoNome').value;
                const sexo = document.getElementById('novoSexo').value;
                const dataNascimento = document.getElementById('novoDataNascimento').value;
                const classeHospede = document.getElementById('novoClasseHospede').value;
                const usaWearable = document.getElementById('novoUsaWearable').checked;
                const usaReconhecimentoFacial = document.getElementById('novoUsaReconhecimentoFacial').checked;
                const responsavel = document.getElementById('novoResponsavel').value;
                const contatoResponsavel = document.getElementById('novoContatoResponsavel').value;
                
                // Validar campos obrigatórios
                if (!nome || !sexo || !dataNascimento || !classeHospede) {
                    alert('Por favor, preencha todos os campos obrigatórios!');
                    return;
                }
                
                // Validar formato da data
                if (!validarData(dataNascimento)) {
                    alert('Por favor, informe uma data de nascimento válida!');
                    return;
                }
                
                // Gerar ID único para o novo hóspede (formato: H + número sequencial)
                const novoId = gerarNovoId();
                
                // Criar novo hóspede
                const novoHospede = {
                    id: novoId,
                    nome,
                    sexo,
                    dataNascimento,
                    classeHospede,
                    usaWearable,
                    usaReconhecimentoFacial,
                    responsavel,
                    contatoResponsavel
                };
                
                // Adicionar à lista de hóspedes
                hospedes.push(novoHospede);
                
                // Atualizar tabela
                renderizarTabela();
                
                // Fechar modal
                fecharModalNovoHospede();
                
                alert(`Hóspede "${nome}" adicionado com sucesso!`);
            }

            // Função para gerar novo ID
            function gerarNovoId() {
                // Encontrar o maior número de ID atual
                let maxNum = 0;
                hospedes.forEach(hospede => {
                    const num = parseInt(hospede.id.replace('H', ''));
                    if (num > maxNum) {
                        maxNum = num;
                    }
                });
                
                // Gerar próximo número e formatar com zeros à esquerda
                const nextNum = maxNum + 1;
                return `H${nextNum.toString().padStart(3, '0')}`;
            }

// Fechar a modal ao clicar fora dela
document.getElementById('modalEditarHospede').addEventListener('click', function(event) {
    if (event.target === this) {
        fecharModalEditarHospede();
    }
});
        </script>
    </body>
</html>